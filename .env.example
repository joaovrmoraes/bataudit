# BatAudit Environment Configuration (.env.example)
# ====================================================
# This file serves as documentation and example for all environment variables
# available in BatAudit. To use, copy this file to .env and adjust 
# the values as needed for your environment.

# ----------------
# Database config
# ----------------
# Database connection settings

# Database driver (options: sqlite, postgres)
DB_DRIVER=sqlite

# SQLite file path (used only when DB_DRIVER=sqlite)
SQLITE_PATH=./bataudit.db

# PostgreSQL/MySQL credentials
DB_USER=batuser
DB_PASSWORD=secure_example_password
DB_NAME=bataudit
DB_HOST=localhost
DB_PORT=5432

# ---------------------------
# BatAudit Worker Configuration
# ---------------------------
# Settings for the worker system and autoscaling

# Basic worker settings
# --------------------
# Initial number of workers when the system starts
BATAUDIT_INITIAL_WORKER_COUNT=2

# Minimum number of workers to keep active even during low demand
BATAUDIT_MIN_WORKER_COUNT=1

# Maximum number of workers that can run simultaneously
BATAUDIT_MAX_WORKER_COUNT=10

# Maximum retry attempts for a failed event processing
BATAUDIT_MAX_RETRIES=3

# Interval between queue polling (format: 2s, 500ms, 1m)
BATAUDIT_POLL_DURATION=2s

# Autoscaling configuration
# -----------------------
# Enable/disable autoscaling (true|false|1|0|yes|no|on|off)
BATAUDIT_ENABLE_AUTOSCALING=true

# Queue size threshold to trigger worker scale up
BATAUDIT_SCALE_UP_THRESHOLD=20

# Queue size threshold to trigger worker scale down
BATAUDIT_SCALE_DOWN_THRESHOLD=5

# Scale factor (how much to increase/decrease worker count)
# E.g., 1.5 means increase or decrease by 50% per scaling operation
BATAUDIT_WORKER_SCALE_FACTOR=1.5

# Cooldown period between scaling operations to prevent oscillation
# (format: 30s, 1m, 2m30s)
BATAUDIT_COOLDOWN_PERIOD=30s

# Redis configuration
# ----------------
# Redis server address for event queue
BATAUDIT_REDIS_ADDRESS=localhost:6379

# Queue name in Redis where events will be stored
BATAUDIT_QUEUE_NAME=bataudit:events

# ---------------------------
# BatAudit API Configuration
# ---------------------------
# API and service configuration

# Port for Writer API (receives audit events)
API_WRITER_PORT=8080

# Port for Reader API (queries audit events)
API_READER_PORT=8081